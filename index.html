<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pont찾o do Cabedelo</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="./WEB/css/archivo.css">
    <link rel="icon" type="image/png" href="https://cdn.cosmicjs.com/2dce0790-68ae-11ef-a492-5bdc7520fe60-logo3.png" id="favicon">
</head>
<body>

    <div id="splashScreen">
        <video id="splashVideo" autoplay muted>
            <source src="intro-video.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>
    </div>
    
    <div class="wrapper" id="mainContent">
        <div class="logo-container">
            <img src="https://cdn.cosmicjs.com/2dce0790-68ae-11ef-a492-5bdc7520fe60-logo3.png" alt="Logo" class="logo">
        </div>
    
        <div class="split-container">

            <div class="left-side">
                <div class="buttons">
                    <span id="generateBtn" class="button-text">[Generate]</span>
                    <span id="downloadBtn" class="button-text" disabled>[Save]</span>
                </div>
            </div>

            <div class="right-side">
                <div id="canvasContainer" class="canvas-container"></div>
            </div>
        </div>
    </div>

    <footer id="footer">
        <p>&copy; Pont찾o do Cabedelo, by <a href="https://antoniosimoesdesign.github.io/Portfolio.io/"> Ant처nio Sim천es</a></p>
    </footer>

    <div id="imageModal" class="modal">
        <span class="close">&times;</span>
        <img class="modal-content" id="modalImage">
    </div>

    <script src="sketch.js"></script>
    <script>
        const splashScreen = document.getElementById('splashScreen');
        const mainContent = document.getElementById('mainContent');
        const splashVideo = document.getElementById('splashVideo');
        const previewImage = document.getElementById('previewImage');
    
    
        splashVideo.onended = () => {
            splashScreen.classList.add('hidden');
            mainContent.style.display = 'block'; 
            mainContent.classList.add('visible'); 
    

            console.log("Splash video ended. Showing main content...");
            canvas.show();
            redraw();
        };
    

        function updatePreview(imageUrl) {
            previewImage.src = imageUrl;
        }
    
        document.getElementById('generateBtn').addEventListener('click', () => {
           
            console.log("Generate button clicked.");
            startSketch();
        });
    



var modal = document.getElementById("imageModal");


var modalImg = document.getElementById("modalImage");
var canvasContainer = document.getElementById("canvasContainer");

canvasContainer.addEventListener('click', function() {
    console.log("Canvas clicked.");

    var canvasElement = canvas.elt; 
    var dataURL = canvasElement.toDataURL("image/png");

    modal.style.display = "block";
    modalImg.src = dataURL;
});


var span = document.getElementsByClassName("close")[0];


span.onclick = function() { 
    modal.style.display = "none";
}
    </script>
    
    
</body>
</html>
